define ("mod_googledocs/modal_grade",["jquery","core/ajax","core/modal_factory","core/templates","core/modal_events","core/log"],function(a,b,c,d,e,f){var g=function init(d,e){a("button#submitbtn_"+d).on("click",function(){var g=a("table.overviewTable").attr("data-file-name"),h=a("tbody").find("tr[data-student-id='"+d+"']").find("a")[1],i=a(h).attr("href");f.debug(i);c.create({title:g,body:"<iframe height=\"600\" width=\"750\" \n                                src=\""+i+"\"> \n                                Your browser does not diplay iFrames\n                                </iframe>",footer:"<div class='grade' style='margin-right:40%'><label for='fgrade'>Grade</label>\n                                 <input type='text' id='fgrade_"+d+"' name='fgrade' >\n                                 </div><button type='button' class='btn btn-primary' data-action='save'>Save</button>\n                                <button type='button' class='btn btn-primary' data-action='next'>Next</button>\n                                <button type='button' class='btn btn-secondary' data-action='cancel'>Cancel</button>",large:!0}).done(function(c){a(c.footer[0]).find("button[data-action='save']").on("click",function(){var c=a("div.grade").find("input#fgrade_"+d).val(),g=parseFloat(c);if(0<a("div.grade").find("p.grademessage").length){a("div.grade").find("p.grademessage").remove()}if(isNaN(g)){a(".grade").append("<p class='alert-danger alert grademessage'>Please provide a valid grade</p>")}else{b.call([{methodname:"mod_googledocs_grade_student_file",args:{googledocid:e,userid:d,grade:g},done:function done(b){var c=a("div.modal-footer").find("button[data-action='save']");a(c).prop("disabled",!0);a("div.grade").find("input#fgrade_118").val("");a(".grade").append("<p class='alert-success alert grademessage'>Grade saved</p>");f.debug(b)},fail:function fail(a){f.error(a)}}])}});a(c.footer[0]).find("button[data-action='next']").on("click",function(){f.debug("next CLICKED")});a(c.footer[0]).find("button[data-action='cancel']").on("click",function(){c.hide()});c.show()})})};return{init:function init(a,b){g(a,b)}}});
//# sourceMappingURL=modal_grade.min.js.map
