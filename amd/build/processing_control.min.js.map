{"version":3,"sources":["../src/processing_control.js"],"names":["define","$","Log","GoogledocsProcessingControl","saveAndDisplay","selectGroup","selectGrouping","self","prototype","main","processingMessageDisplay","on","appendTo","toggle","each","ids","push","value","console","log","init","debug","control"],"mappings":"AA+BAA,OAAM,qCAAC,CAAC,QAAD,CAAW,UAAX,CAAuB,UAAvB,CAAD,CAAqC,SAAUC,CAAV,CAAaC,CAAb,CAAuB,CAC9D,aAeA,QAASC,CAAAA,CAAT,CAAqCC,CAArC,CAAsDC,CAAtD,CAAmEC,CAAnE,CAAmF,CAC/E,GAAIC,CAAAA,CAAI,CAAG,IAAX,CACAA,CAAI,CAACH,cAAL,CAAsBA,CAAtB,CACAG,CAAI,CAACF,WAAL,CAAmBA,CAAnB,CACAE,CAAI,CAACD,cAAL,CAAsBA,CAEzB,CAEDH,CAA2B,CAACK,SAA5B,CAAsCC,IAAtC,CAA6C,UAAY,CACrD,GAAIF,CAAAA,CAAI,CAAG,IAAX,CACAA,CAAI,CAACG,wBAAL,EACH,CAHD,CAKAP,CAA2B,CAACK,SAA5B,CAAsCE,wBAAtC,CAAiE,UAAW,CAExE,GAAIH,CAAAA,CAAI,CAAG,IAAX,CACAN,CAAC,CAACM,CAAI,CAACH,cAAN,CAAD,CAAuBO,EAAvB,CAA0B,OAA1B,CAAmC,UAAW,CAC1CV,CAAC,0aAAD,CAQuBW,QARvB,CAQgC,eARhC,CAUC,CAXL,CAYH,CAfD,CAgBAT,CAA2B,CAACK,SAA5B,CAAsCK,MAAtC,CAA+C,UAAU,CACvD,GAAIN,CAAAA,CAAI,CAAG,IAAX,CAEAN,CAAC,CAACM,CAAI,CAACF,WAAN,CAAD,CAAoBM,EAApB,CAAuB,QAAvB,CAAiC,UAAW,CAE1CV,CAAC,CAAE,kCAAF,CAAD,CAAwCa,IAAxC,CAA6C,SAASC,CAAT,CAAc,CACvDA,CAAG,CAACC,IAAJ,CAASf,CAAC,CAAC,IAAD,CAAD,CAAQ,CAAR,EAAWgB,KAApB,EACA,GAAwB,CAApB,EAAAhB,CAAC,CAAC,IAAD,CAAD,CAAQ,CAAR,EAAWgB,KAAf,CAA2B,CACvB,QACH,CAEJ,CAND,EAQAC,OAAO,CAACC,GAAR,CATU,EASV,CAEH,CAZC,CAaD,CAhBD,CAkBA,MAAO,CACFC,IAAI,CA1DT,UAAgB,CACZlB,CAAG,CAACmB,KAAJ,CAAU,mCAAV,EADY,GAKRC,CAAAA,CAAO,CAAG,GAAInB,CAAAA,CAAJ,oBAFI,YAEJ,CADO,eACP,CALF,CAMZmB,CAAO,CAACb,IAAR,EACH,CAkDM,CAGT,CAlEI,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Provides the mod_googledocs/control module\n *\n * @package   mod_googledocs\n * @category  output\n * @copyright 2020 Veronica Bermegui\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * @module mod_googledocs/control\n */\n\n/**\n * @module mod_googledocs/control\n */\ndefine(['jquery', 'core/log', 'core/str'], function ($, Log, str) {\n    'use strict';\n\n    /**\n     * Initializes the block controls.\n     */\n    function init() {\n        Log.debug('mod_googledocs/processing_control');\n        var saveAndDisplay = '#id_submitbutton';\n        var selectGroup = '#id_groups';\n        var selectGrouping = '#id_groupings'\n        var control = new GoogledocsProcessingControl(saveAndDisplay, selectGroup, selectGrouping);\n        control.main();\n    }\n\n    // Constructor.\n    function GoogledocsProcessingControl(saveAndDisplay,  selectGroup, selectGrouping) {\n        var self = this;\n        self.saveAndDisplay = saveAndDisplay;\n        self.selectGroup = selectGroup;\n        self.selectGrouping = selectGrouping;\n\n    };\n\n    GoogledocsProcessingControl.prototype.main = function () {\n        var self = this;\n        self.processingMessageDisplay();\n    };\n\n    GoogledocsProcessingControl.prototype.processingMessageDisplay = function() {\n        // Handle submit click.\n        var self = this;\n        $(self.saveAndDisplay).on('click', function() {\n            $(\"<div class='d-flex flex-column align-items-center justify-content-center overlay'>\"\n                + \"<div class='spinner-border processing' role='status'>\"\n                + \"<span class='sr-only'>Loading...</span>\"\n                + \"</div>\"\n                + \"<div class = 'process_message'>\\n\\\n                   <p>Saving to Google Drive. <br>\\n\\\n                        This process can take some time.<br> \\n\\\n                        Please do not close the browser.</p>\\n\\\n                    </div></div>\").appendTo('#page-content');\n\n            });\n    };\n    GoogledocsProcessingControl.prototype.toggle = function(){\n      var self = this;\n\n      $(self.selectGroup).on('change', function() {\n        var ids = [];\n        $( \"select#id_groups option:selected\" ).each(function(ids) {\n            ids.push($(this)[0].value );\n            if ($(this)[0].value == 0) {\n                return false;\n            }\n\n        });\n        \n        console.log(ids);\n\n    });\n    };\n\n    return {\n         init: init\n    };\n });"],"file":"processing_control.min.js"}