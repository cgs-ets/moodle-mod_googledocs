{"version":3,"sources":["../src/save_quick_grading.js"],"names":["define","$","Ajax","Log","GoogledocSaveQuickGrading","debug","prototype","main","self","saveQuickGrading","on","listOfGrades","children","each","userid","attr","grade","find","val","comment","length","id","push","JSON","stringify","init","control"],"mappings":"AAWAA,OAAM,qCAAC,CAAC,QAAD,CAAW,WAAX,CAAwB,UAAxB,CAAD,CAAsC,SAASC,CAAT,CAAWC,CAAX,CAAiBC,CAAjB,CAAsB,CAChE,aAYE,QAASC,CAAAA,CAAT,EAAqC,CACjCD,CAAG,CAACE,KAAJ,CAAU,aAAV,CACH,CAEDD,CAAyB,CAACE,SAA1B,CAAoCC,IAApC,CAA2C,UAAW,CAClD,GAAIC,CAAAA,CAAI,CAAG,IAAX,CACAA,CAAI,CAACC,gBAAL,EACH,CAHD,CAKCL,CAAyB,CAACE,SAA1B,CAAoCG,gBAApC,CAAuD,UAAW,CAE/DR,CAAC,CAAC,0BAAD,CAAD,CAA8BS,EAA9B,CAAiC,OAAjC,CAA0C,UAAY,CAClDP,CAAG,CAACE,KAAJ,CAAU,6CAAV,EACA,GAAIM,CAAAA,CAAY,CAAG,EAAnB,CACAV,CAAC,CAAC,OAAD,CAAD,CAAWW,QAAX,GAAsBC,IAAtB,CAA2B,UAAW,IAC9BC,CAAAA,CAAM,CAAGb,CAAC,CAAC,IAAD,CAAD,CAAQc,IAAR,CAAa,cAAb,CADqB,CAE9BC,CAAK,CAAGf,CAAC,CAAC,IAAD,CAAD,CAAQgB,IAAR,CAAa,eAAiBH,CAA9B,EAAsCI,GAAtC,EAFsB,CAG9BC,CAAO,CAAGlB,CAAC,CAAC,IAAD,CAAD,CAAQgB,IAAR,CAAa,wBAA0BH,CAAvC,EAA+CI,GAA/C,EAHoB,CAKlC,GAAoB,CAAhB,EAAAF,CAAK,CAACI,MAAN,EAAuC,CAAlB,EAAAD,CAAO,CAACC,MAAjC,CAA8C,CAC1C,MACH,CAED,GAAIJ,CAAAA,CAAK,CAAG,CACRK,EAAE,CAAGP,CADG,CAERE,KAAK,CAAGA,CAFA,CAGRG,OAAO,CAAEA,CAHD,CAAZ,CAKAR,CAAY,CAACW,IAAb,CAAkBN,CAAlB,CAGH,CAjBD,EAmBAb,CAAG,CAACE,KAAJ,CAAUkB,IAAI,CAACC,SAAL,CAAeb,CAAf,CAAV,CAEH,CAxBD,CA0BH,CA5BA,CA8BD,MAAO,CACHc,IAAI,CAhDR,UAAgB,CACZtB,CAAG,CAACE,KAAJ,CAAU,sFAAV,EAEA,GAAIqB,CAAAA,CAAO,CAAG,GAAItB,CAAAA,CAAlB,CACAsB,CAAO,CAACnB,IAAR,EACH,CA0CM,CAGV,CAvDK,CAAN","sourcesContent":["// Standard license block omitted.\n/*\n * @package    mod_googledocs\n * @copyright  2020 Veronica Bermegui\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n \n /**\n  * @module mod_googledocs/update_controls\n  * define(['jquery', 'core/log', 'core/ajax', 'mod_googledocs/update_controls'], function ($, Log, Ajax, UpdateControl)\n  */\ndefine(['jquery', 'core/ajax', 'core/log'], function($,Ajax, Log) {\n  'use strict';\n    /**\n     * Initializes the update controls.\n     */\n    function init() {\n        Log.debug('mod_googledocs/SaveQuickGrading: initializing SaveQuickGrading of the mod_googledocs');\n       \n        var control = new GoogledocSaveQuickGrading();\n        control.main();\n    }\n\n    // Constructor\n    function GoogledocSaveQuickGrading (){      \n        Log.debug(\"constructor\" );\n    };\n\n    GoogledocSaveQuickGrading.prototype.main = function() {\n        var self = this;\n        self.saveQuickGrading();\n    };\n\n     GoogledocSaveQuickGrading.prototype.saveQuickGrading = function() {\n\n        $('button.submit-quickgrade').on('click', function () {\n            Log.debug(\"Guardar los datos de los inputs con valores\");\n            var listOfGrades = [];\n            $('tbody').children().each(function(e){\n                var userid = $(this).attr('data-user-id');\n                var grade = $(this).find(\"#quickgrade_\" + userid).val();\n                var comment = $(this).find(\"#quickgrade_comments_\" + userid).val();\n                /* False for null,undefined,0,000,\"\",false. True for string \"0\" and whitespace \" \".*/\n                if( grade.length == 0 && comment.length == 0) {\n                    return;\n                }\n                \n                var grade = {\n                    id : userid,\n                    grade : grade,\n                    comment: comment\n                }\n                listOfGrades.push(grade);\n                \n            \n            });\n            \n            Log.debug(JSON.stringify(listOfGrades));\n\n        });\n\n    };\n\n    return {\n        init: init\n    };\n});"],"file":"save_quick_grading.min.js"}